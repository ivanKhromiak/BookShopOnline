<h1>Welcome to the  Online Book Shop!</h1>
<input type="button" value="Додати" class="btn btn-default" (click)="add()" />
<table *ngIf="lookMode; else create" class='table table-striped' aria-labelledby="tableLabel">
  <thead>
    <tr>
      <th>Name</th>
      <th>Author</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let book of books">
      <ng-template [ngIf]="changedBook.id != book.id" [ngIfElse]="edit">
      <td>{{ book?.name }}</td>
      <td>{{ book?.author }}</td>
      <td>{{ book?.price }}</td>
      <td>
        <button class="btn btn-sm btn-primary" (click)="editBook(book)">Редагувати</button>
        <button class="btn btn-sm btn-danger" (click)="delete(book)">Видалити</button>
      </td>
    </ng-template>
    </tr>
  </tbody>
</table>

<ng-template #edit>
  <td>
    <input type="text" [(ngModel)]="changedBook.name" class="form-control" />
  </td>
  <td>
      <input type="text" [(ngModel)]="changedBook.author" class="form-control" />
  </td>
  <td>
      <input type="text" [(ngModel)]="changedBook.price" class="form-control" />
  </td>
  <td>
      <input type="button" value="Зберегти" (click)="save()" class="btn btn-sm btn-success" />
      <input type="button" value="Відміна" (click)="cancel()" class="btn btn-sm btn-warning" />
  </td>
</ng-template>

<ng-template #create>
  <div class="form-group">
      <label>Назва</label>
      <input type="text" [(ngModel)]="changedBook.name" class="form-control" />
  </div>
  <div class="form-group">
      <label>Автор</label>
      <input type="text" [(ngModel)]="changedBook.author" class="form-control" />
  </div>
  <div class="form-group">
      <label>Ціна</label>
      <input type="text" [(ngModel)]="changedBook.price" class="form-control" />
  </div>
  <div>
      <input type="button" value="Зберегти" (click)="save()" class="btn btn-success" />
      <input type="button" value="Відміна" (click)="cancel()" class="btn btn-warning" />
  </div>
</ng-template>